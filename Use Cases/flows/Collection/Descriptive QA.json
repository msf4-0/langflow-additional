{"id":"f72a0978-24f6-43cb-b704-31f403a903ba","name":"Descriptive QA","data":{"edges":[],"nodes":[{"data":{"id":"CustomComponent-URQoK","type":"CustomComponent","node":{"output_types":["Chain"],"display_name":"Descriptive QA","documentation":"","base_classes":["Chain"],"description":"","template":{"llm_CustomComponent-63aa3":{"type":"BaseLLM","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"llm","display_name":"Retrieval LLM","advanced":false,"dynamic":false,"info":"","value":"","proxy":{"id":"CustomComponent-63aa3","field":"llm"}},"vector_store_CustomComponent-63aa3":{"type":"VectorStore","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"vector_store","display_name":"vector_store","advanced":false,"dynamic":false,"info":"","value":"","proxy":{"id":"CustomComponent-63aa3","field":"vector_store"}},"code_CustomComponent-63aa3":{"type":"code","required":true,"placeholder":"","list":false,"show":false,"multiline":true,"value":"from langflow import CustomComponent\nfrom langflow.field_typing import Data, BaseLLM, PromptTemplate, VectorStore, Chain\nfrom langchain.chains import RetrievalQA\n\n\nclass Component(CustomComponent):\n    documentation: str = \"http://docs.langflow.org/components/custom\"\n    \n    def build_config(self):\n        return {\"llm\": {\"display_name\": \"Retrieval LLM\"}}\n\n    def build(self, llm: BaseLLM, prompt: PromptTemplate, vector_store: VectorStore) -> Chain:\n        retrieval_qa = RetrievalQA.from_llm(llm=llm, prompt=prompt, retriever=vector_store.as_retriever())\n        return retrieval_qa","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":false,"dynamic":true,"info":"","proxy":{"id":"CustomComponent-63aa3","field":"code"},"display_name":"Code"},"output_parser_PromptTemplate-iBBGK":{"type":"BaseOutputParser","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"output_parser","advanced":false,"dynamic":true,"info":"","proxy":{"id":"PromptTemplate-iBBGK","field":"output_parser"},"display_name":"Output Parser"},"input_types_PromptTemplate-iBBGK":{"type":"dict","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"input_types","advanced":true,"dynamic":true,"info":"","proxy":{"id":"PromptTemplate-iBBGK","field":"input_types"},"display_name":"Input Types"},"input_variables_PromptTemplate-iBBGK":{"type":"str","required":true,"placeholder":"","list":true,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"input_variables","advanced":false,"dynamic":true,"info":"","value":["description","context","question"],"proxy":{"id":"PromptTemplate-iBBGK","field":"input_variables"},"display_name":"Input Variables"},"partial_variables_PromptTemplate-iBBGK":{"type":"dict","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"partial_variables","advanced":true,"dynamic":true,"info":"","proxy":{"id":"PromptTemplate-iBBGK","field":"partial_variables"},"display_name":"Partial Variables"},"template_PromptTemplate-iBBGK":{"type":"prompt","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"fileTypes":[],"password":false,"name":"template","advanced":true,"dynamic":true,"info":"","value":"Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer.\n\n---\n\nInitial description:\n\n{description}\n\nPotentially relevant chunks are displayed below with the \"Context:\" preamble.\n\n{context}\n\nQuestion: {question}\nHelpful Answer:\n","proxy":{"id":"PromptTemplate-iBBGK","field":"template"},"display_name":"Template"},"template_format_PromptTemplate-iBBGK":{"type":"str","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":"f-string","fileTypes":[],"password":false,"name":"template_format","advanced":true,"dynamic":true,"info":"","proxy":{"id":"PromptTemplate-iBBGK","field":"template_format"},"display_name":"Template Format"},"validate_template_PromptTemplate-iBBGK":{"type":"bool","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":false,"fileTypes":[],"password":false,"name":"validate_template","advanced":true,"dynamic":true,"info":"","proxy":{"id":"PromptTemplate-iBBGK","field":"validate_template"},"display_name":"Validate Template"},"context_PromptTemplate-iBBGK":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":true,"value":"","fileTypes":[],"file_path":"","password":false,"name":"context","display_name":"context","advanced":true,"input_types":["Document","BaseOutputParser"],"dynamic":false,"info":"","proxy":{"id":"PromptTemplate-iBBGK","field":"context"}},"question_PromptTemplate-iBBGK":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":true,"value":"","fileTypes":[],"file_path":"","password":false,"name":"question","display_name":"question","advanced":true,"input_types":["Document","BaseOutputParser"],"dynamic":false,"info":"","proxy":{"id":"PromptTemplate-iBBGK","field":"question"}},"documents_CustomComponent-GWl0s_PromptRunner-jv3Cb":{"type":"Document","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"documents","display_name":"documents","advanced":false,"dynamic":false,"info":"","proxy":{"id":"PromptRunner-jv3Cb","field":"documents_CustomComponent-GWl0s"}},"code_CustomComponent-GWl0s_PromptRunner-jv3Cb":{"type":"code","required":true,"placeholder":"","list":false,"show":false,"multiline":true,"value":"from langflow import CustomComponent\nfrom langflow.field_typing import Document\n\n\nclass Component(CustomComponent):\n    documentation: str = \"http://docs.langflow.org/components/custom\"\n\n    def build(self, documents: Document, head:int=3, tail:int=3) -> Document:\n        assert isinstance(documents, list)\n        \n        return documents[:head] + documents[-tail:]\n","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":false,"dynamic":true,"info":"","display_name":"code","proxy":{"id":"PromptRunner-jv3Cb","field":"code_CustomComponent-GWl0s"}},"head_CustomComponent-GWl0s_PromptRunner-jv3Cb":{"type":"int","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"2","fileTypes":[],"file_path":"","password":false,"name":"head","display_name":"head","advanced":false,"dynamic":false,"info":"","proxy":{"id":"PromptRunner-jv3Cb","field":"head_CustomComponent-GWl0s"}},"tail_CustomComponent-GWl0s_PromptRunner-jv3Cb":{"type":"int","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"1","fileTypes":[],"file_path":"","password":false,"name":"tail","display_name":"tail","advanced":false,"dynamic":false,"info":"","proxy":{"id":"PromptRunner-jv3Cb","field":"tail_CustomComponent-GWl0s"}},"llm_PromptRunner-rASGO_PromptRunner-jv3Cb":{"type":"BaseLLM","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"llm","display_name":"Description LLM","advanced":false,"dynamic":false,"info":"","value":"","proxy":{"id":"PromptRunner-jv3Cb","field":"llm_PromptRunner-rASGO"}},"code_PromptRunner-rASGO_PromptRunner-jv3Cb":{"type":"code","required":true,"placeholder":"","list":false,"show":false,"multiline":true,"value":"from langflow import CustomComponent\n\nfrom langchain.llms.base import BaseLLM\nfrom langchain.prompts import PromptTemplate\nfrom langchain.schema import Document\n\n\nclass PromptRunner(CustomComponent):\n    display_name: str = \"Prompt Runner\"\n    description: str = \"Run a Chain with the given PromptTemplate\"\n    beta: bool = True\n    field_config = {\n        \"llm\": {\"display_name\": \"Description LLM\"},\n        \"prompt\": {\n            \"display_name\": \"Prompt Template\",\n            \"info\": \"Make sure the prompt has all variables filled.\",\n        },\n        \"code\": {\"show\": False},\n    }\n\n    def build(self, llm: BaseLLM, prompt: PromptTemplate) -> Document:\n        chain = prompt | llm\n        # The input is an empty dict because the prompt is already filled\n        result = chain.invoke(input={})\n        if hasattr(result, \"content\"):\n            result = result.content\n        self.repr_value = result\n        return Document(page_content=str(result))\n","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":false,"dynamic":true,"info":"","proxy":{"id":"PromptRunner-jv3Cb","field":"code_PromptRunner-rASGO"},"display_name":"Code"},"output_parser_PromptTemplate-BcjIr_PromptRunner-jv3Cb":{"type":"BaseOutputParser","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"output_parser","advanced":false,"dynamic":true,"info":"","display_name":"output_parser","proxy":{"id":"PromptRunner-jv3Cb","field":"output_parser_PromptTemplate-BcjIr"}},"input_types_PromptTemplate-BcjIr_PromptRunner-jv3Cb":{"type":"dict","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"input_types","advanced":true,"dynamic":true,"info":"","display_name":"input_types","proxy":{"id":"PromptRunner-jv3Cb","field":"input_types_PromptTemplate-BcjIr"}},"input_variables_PromptTemplate-BcjIr_PromptRunner-jv3Cb":{"type":"str","required":true,"placeholder":"","list":true,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"input_variables","advanced":false,"dynamic":true,"info":"","value":["head_tail"],"display_name":"input_variables","proxy":{"id":"PromptRunner-jv3Cb","field":"input_variables_PromptTemplate-BcjIr"}},"partial_variables_PromptTemplate-BcjIr_PromptRunner-jv3Cb":{"type":"dict","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"partial_variables","advanced":true,"dynamic":true,"info":"","display_name":"partial_variables","proxy":{"id":"PromptRunner-jv3Cb","field":"partial_variables_PromptTemplate-BcjIr"}},"template_PromptTemplate-BcjIr_PromptRunner-jv3Cb":{"type":"prompt","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"fileTypes":[],"password":false,"name":"template","advanced":true,"dynamic":true,"info":"","value":"Below are the head and tail of a document.\n\n---\n\n{head_tail}\n\n---\n\nGiven them, try to create a reasonable description of what this document may be about. If included, specify sources and any metadata available.\n\nGenerated Description:\n","display_name":"template","proxy":{"id":"PromptRunner-jv3Cb","field":"template_PromptTemplate-BcjIr"}},"template_format_PromptTemplate-BcjIr_PromptRunner-jv3Cb":{"type":"str","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":"f-string","fileTypes":[],"password":false,"name":"template_format","advanced":true,"dynamic":true,"info":"","display_name":"template_format","proxy":{"id":"PromptRunner-jv3Cb","field":"template_format_PromptTemplate-BcjIr"}},"validate_template_PromptTemplate-BcjIr_PromptRunner-jv3Cb":{"type":"bool","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":false,"fileTypes":[],"password":false,"name":"validate_template","advanced":true,"dynamic":true,"info":"","display_name":"validate_template","proxy":{"id":"PromptRunner-jv3Cb","field":"validate_template_PromptTemplate-BcjIr"}}},"flow":{"data":{"nodes":[{"width":384,"height":425,"id":"CustomComponent-63aa3","type":"genericNode","position":{"x":2711.800917597132,"y":188.35859693788262},"data":{"type":"CustomComponent","node":{"template":{"llm":{"type":"BaseLLM","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"llm","display_name":"Retrieval LLM","advanced":false,"dynamic":false,"info":"","value":""},"prompt":{"type":"PromptTemplate","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"prompt","display_name":"prompt","advanced":false,"dynamic":false,"info":"","value":""},"vector_store":{"type":"VectorStore","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"vector_store","display_name":"vector_store","advanced":false,"dynamic":false,"info":"","value":""},"code":{"type":"code","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"value":"from langflow import CustomComponent\nfrom langflow.field_typing import Data, BaseLLM, PromptTemplate, VectorStore, Chain\nfrom langchain.chains import RetrievalQA\n\n\nclass Component(CustomComponent):\n    documentation: str = \"http://docs.langflow.org/components/custom\"\n    \n    def build_config(self):\n        return {\"llm\": {\"display_name\": \"Retrieval LLM\"}}\n\n    def build(self, llm: BaseLLM, prompt: PromptTemplate, vector_store: VectorStore) -> Chain:\n        retrieval_qa = RetrievalQA.from_llm(llm=llm, prompt=prompt, retriever=vector_store.as_retriever())\n        return retrieval_qa","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":false,"dynamic":true,"info":""},"_type":"CustomComponent"},"base_classes":["Chain"],"display_name":"RetrievalQA","documentation":"http://docs.langflow.org/components/custom","custom_fields":{"llm":null,"prompt":null,"vector_store":null},"output_types":["Chain"],"field_formatters":{},"beta":true},"id":"CustomComponent-63aa3"},"selected":true,"dragging":false,"positionAbsolute":{"x":2711.800917597132,"y":188.35859693788262}},{"width":384,"height":563,"id":"PromptTemplate-iBBGK","type":"genericNode","position":{"x":2079.717976209867,"y":193.28869547208728},"data":{"type":"PromptTemplate","node":{"template":{"output_parser":{"type":"BaseOutputParser","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"output_parser","advanced":false,"dynamic":true,"info":""},"input_types":{"type":"dict","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"input_types","advanced":false,"dynamic":true,"info":""},"input_variables":{"type":"str","required":true,"placeholder":"","list":true,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"input_variables","advanced":false,"dynamic":true,"info":"","value":["description","context","question"]},"partial_variables":{"type":"dict","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"partial_variables","advanced":false,"dynamic":true,"info":""},"template":{"type":"prompt","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"fileTypes":[],"password":false,"name":"template","advanced":false,"dynamic":true,"info":"","value":"Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer.\n\n---\n\nInitial description:\n\n{description}\n\nPotentially relevant chunks are displayed below with the \"Context:\" preamble.\n\n{context}\n\nQuestion: {question}\nHelpful Answer:\n"},"template_format":{"type":"str","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":"f-string","fileTypes":[],"password":false,"name":"template_format","advanced":false,"dynamic":true,"info":""},"validate_template":{"type":"bool","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":false,"fileTypes":[],"password":false,"name":"validate_template","advanced":false,"dynamic":true,"info":""},"_type":"PromptTemplate","context":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":true,"value":"","fileTypes":[],"file_path":"","password":false,"name":"context","display_name":"context","advanced":false,"input_types":["Document","BaseOutputParser"],"dynamic":false,"info":""},"question":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":true,"value":"","fileTypes":[],"file_path":"","password":false,"name":"question","display_name":"question","advanced":false,"input_types":["Document","BaseOutputParser"],"dynamic":false,"info":""},"description":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":true,"value":"","fileTypes":[],"file_path":"","password":false,"name":"description","display_name":"description","advanced":false,"input_types":["Document","BaseOutputParser"],"dynamic":false,"info":""}},"description":"A prompt template for a language model.","base_classes":["PromptTemplate","StringPromptTemplate","BasePromptTemplate"],"name":"","display_name":"PromptTemplate","documentation":"https://python.langchain.com/docs/modules/model_io/prompts/prompt_templates/","custom_fields":{"":["description","context","question"]},"output_types":[],"full_path":null,"field_formatters":{},"beta":false,"error":null},"id":"PromptTemplate-iBBGK"},"selected":true,"positionAbsolute":{"x":2079.717976209867,"y":193.28869547208728},"dragging":false},{"width":384,"height":549,"data":{"id":"PromptRunner-jv3Cb","type":"PromptRunner","node":{"output_types":["Document"],"display_name":"Description Generator","documentation":"","base_classes":["Document"],"description":"","template":{"documents_CustomComponent-GWl0s":{"type":"Document","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"documents","display_name":"documents","advanced":false,"dynamic":false,"info":"","proxy":{"id":"CustomComponent-GWl0s","field":"documents"}},"code_CustomComponent-GWl0s":{"type":"code","required":true,"placeholder":"","list":false,"show":false,"multiline":true,"value":"from langflow import CustomComponent\nfrom langflow.field_typing import Document\n\n\nclass Component(CustomComponent):\n    documentation: str = \"http://docs.langflow.org/components/custom\"\n\n    def build(self, documents: Document, head:int=3, tail:int=3) -> Document:\n        assert isinstance(documents, list)\n        \n        return documents[:head] + documents[-tail:]\n","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":false,"dynamic":true,"info":"","display_name":"code","proxy":{"id":"CustomComponent-GWl0s","field":"code"}},"head_CustomComponent-GWl0s":{"type":"int","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"1","fileTypes":[],"file_path":"","password":false,"name":"head","display_name":"head","advanced":false,"dynamic":false,"info":"","proxy":{"id":"CustomComponent-GWl0s","field":"head"}},"tail_CustomComponent-GWl0s":{"type":"int","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"1","fileTypes":[],"file_path":"","password":false,"name":"tail","display_name":"tail","advanced":false,"dynamic":false,"info":"","proxy":{"id":"CustomComponent-GWl0s","field":"tail"}},"llm_PromptRunner-rASGO":{"type":"BaseLLM","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"llm","display_name":"Description LLM","advanced":false,"dynamic":false,"info":"","value":"","proxy":{"id":"PromptRunner-rASGO","field":"llm"}},"code_PromptRunner-rASGO":{"type":"code","required":true,"placeholder":"","list":false,"show":false,"multiline":true,"value":"from langflow import CustomComponent\n\nfrom langchain.llms.base import BaseLLM\nfrom langchain.prompts import PromptTemplate\nfrom langchain.schema import Document\n\n\nclass PromptRunner(CustomComponent):\n    display_name: str = \"Prompt Runner\"\n    description: str = \"Run a Chain with the given PromptTemplate\"\n    beta: bool = True\n    field_config = {\n        \"llm\": {\"display_name\": \"Description LLM\"},\n        \"prompt\": {\n            \"display_name\": \"Prompt Template\",\n            \"info\": \"Make sure the prompt has all variables filled.\",\n        },\n        \"code\": {\"show\": False},\n    }\n\n    def build(self, llm: BaseLLM, prompt: PromptTemplate) -> Document:\n        chain = prompt | llm\n        # The input is an empty dict because the prompt is already filled\n        result = chain.invoke(input={})\n        if hasattr(result, \"content\"):\n            result = result.content\n        self.repr_value = result\n        return Document(page_content=str(result))\n","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":false,"dynamic":true,"info":"","proxy":{"id":"PromptRunner-rASGO","field":"code"},"display_name":"Code"},"output_parser_PromptTemplate-BcjIr":{"type":"BaseOutputParser","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"output_parser","advanced":false,"dynamic":true,"info":"","display_name":"output_parser","proxy":{"id":"PromptTemplate-BcjIr","field":"output_parser"}},"input_types_PromptTemplate-BcjIr":{"type":"dict","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"input_types","advanced":true,"dynamic":true,"info":"","display_name":"input_types","proxy":{"id":"PromptTemplate-BcjIr","field":"input_types"}},"input_variables_PromptTemplate-BcjIr":{"type":"str","required":true,"placeholder":"","list":true,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"input_variables","advanced":false,"dynamic":true,"info":"","value":["head_tail"],"display_name":"input_variables","proxy":{"id":"PromptTemplate-BcjIr","field":"input_variables"}},"partial_variables_PromptTemplate-BcjIr":{"type":"dict","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"partial_variables","advanced":true,"dynamic":true,"info":"","display_name":"partial_variables","proxy":{"id":"PromptTemplate-BcjIr","field":"partial_variables"}},"template_PromptTemplate-BcjIr":{"type":"prompt","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"fileTypes":[],"password":false,"name":"template","advanced":false,"dynamic":true,"info":"","value":"Below are the head and tail of a document.\n\n---\n\n{head_tail}\n\n---\n\nGiven them, try to create a reasonable description of what this document may be about. If included, specify sources and any metadata available.\n\nGenerated Description:\n","display_name":"template","proxy":{"id":"PromptTemplate-BcjIr","field":"template"}},"template_format_PromptTemplate-BcjIr":{"type":"str","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":"f-string","fileTypes":[],"password":false,"name":"template_format","advanced":true,"dynamic":true,"info":"","display_name":"template_format","proxy":{"id":"PromptTemplate-BcjIr","field":"template_format"}},"validate_template_PromptTemplate-BcjIr":{"type":"bool","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":false,"fileTypes":[],"password":false,"name":"validate_template","advanced":true,"dynamic":true,"info":"","display_name":"validate_template","proxy":{"id":"PromptTemplate-BcjIr","field":"validate_template"}}},"flow":{"data":{"nodes":[{"width":384,"height":501,"id":"CustomComponent-GWl0s","type":"genericNode","position":{"x":454.7849475910324,"y":-26.431343500727564},"data":{"type":"CustomComponent","node":{"template":{"documents":{"type":"Document","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"documents","display_name":"documents","advanced":false,"dynamic":false,"info":""},"code":{"type":"code","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"value":"from langflow import CustomComponent\nfrom langflow.field_typing import Document\n\n\nclass Component(CustomComponent):\n    documentation: str = \"http://docs.langflow.org/components/custom\"\n\n    def build(self, documents: Document, head:int=3, tail:int=3) -> Document:\n        assert isinstance(documents, list)\n        \n        return documents[:head] + documents[-tail:]\n","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":false,"dynamic":true,"info":"","display_name":"code"},"head":{"type":"int","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"1","fileTypes":[],"file_path":"","password":false,"name":"head","display_name":"head","advanced":false,"dynamic":false,"info":""},"tail":{"type":"int","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"1","fileTypes":[],"file_path":"","password":false,"name":"tail","display_name":"tail","advanced":false,"dynamic":false,"info":""},"_type":"CustomComponent"},"base_classes":["Document"],"display_name":"Truncate Documents","documentation":"http://docs.langflow.org/components/custom","custom_fields":{"documents":null,"head":null,"tail":null},"output_types":["Document"],"field_formatters":{},"beta":true,"description":"Extract the head and tail from a list of documents."},"id":"CustomComponent-GWl0s"},"selected":true,"dragging":false,"positionAbsolute":{"x":454.7849475910324,"y":-26.431343500727564}},{"width":384,"height":377,"id":"PromptRunner-rASGO","type":"genericNode","position":{"x":1568.8588816959511,"y":80.24950204653985},"data":{"type":"PromptRunner","node":{"template":{"llm":{"type":"BaseLLM","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"llm","display_name":"Description LLM","advanced":false,"dynamic":false,"info":"","value":""},"prompt":{"type":"PromptTemplate","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"prompt","display_name":"Prompt Template","advanced":false,"dynamic":false,"info":"Make sure the prompt has all variables filled.","value":""},"code":{"type":"code","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"value":"from langflow import CustomComponent\n\nfrom langchain.llms.base import BaseLLM\nfrom langchain.prompts import PromptTemplate\nfrom langchain.schema import Document\n\n\nclass PromptRunner(CustomComponent):\n    display_name: str = \"Prompt Runner\"\n    description: str = \"Run a Chain with the given PromptTemplate\"\n    beta: bool = True\n    field_config = {\n        \"llm\": {\"display_name\": \"Description LLM\"},\n        \"prompt\": {\n            \"display_name\": \"Prompt Template\",\n            \"info\": \"Make sure the prompt has all variables filled.\",\n        },\n        \"code\": {\"show\": False},\n    }\n\n    def build(self, llm: BaseLLM, prompt: PromptTemplate) -> Document:\n        chain = prompt | llm\n        # The input is an empty dict because the prompt is already filled\n        result = chain.invoke(input={})\n        if hasattr(result, \"content\"):\n            result = result.content\n        self.repr_value = result\n        return Document(page_content=str(result))\n","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":false,"dynamic":true,"info":""},"_type":"CustomComponent"},"description":"Run a Chain with the given PromptTemplate","base_classes":["Document"],"display_name":"Prompt Runner","documentation":"","custom_fields":{"llm":null,"prompt":null},"output_types":["Document"],"field_formatters":{},"beta":true},"id":"PromptRunner-rASGO"},"selected":true,"positionAbsolute":{"x":1568.8588816959511,"y":80.24950204653985},"dragging":false},{"width":384,"height":375,"id":"PromptTemplate-BcjIr","type":"genericNode","position":{"x":989.2882417344424,"y":-34.88063446874622},"data":{"type":"PromptTemplate","node":{"template":{"output_parser":{"type":"BaseOutputParser","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"output_parser","advanced":false,"dynamic":true,"info":"","display_name":"output_parser"},"input_types":{"type":"dict","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"input_types","advanced":false,"dynamic":true,"info":"","display_name":"input_types"},"input_variables":{"type":"str","required":true,"placeholder":"","list":true,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"input_variables","advanced":false,"dynamic":true,"info":"","value":["head_tail"],"display_name":"input_variables"},"partial_variables":{"type":"dict","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"partial_variables","advanced":false,"dynamic":true,"info":"","display_name":"partial_variables"},"template":{"type":"prompt","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"fileTypes":[],"password":false,"name":"template","advanced":false,"dynamic":true,"info":"","value":"Below are the head and tail of a document.\n\n---\n\n{head_tail}\n\n---\n\nGiven them, try to create a reasonable description of what this document may be about. If included, specify sources and any metadata available.\n\nGenerated Description:\n","display_name":"template"},"template_format":{"type":"str","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":"f-string","fileTypes":[],"password":false,"name":"template_format","advanced":false,"dynamic":true,"info":"","display_name":"template_format"},"validate_template":{"type":"bool","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":false,"fileTypes":[],"password":false,"name":"validate_template","advanced":false,"dynamic":true,"info":"","display_name":"validate_template"},"_type":"PromptTemplate","head_tail":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":true,"value":"","fileTypes":[],"file_path":"","password":false,"name":"head_tail","display_name":"head_tail","advanced":false,"input_types":["Document","BaseOutputParser"],"dynamic":false,"info":""}},"description":"A prompt template for a language model.","base_classes":["PromptTemplate","StringPromptTemplate","BasePromptTemplate"],"name":"","display_name":"PromptTemplate","documentation":"https://python.langchain.com/docs/modules/model_io/prompts/prompt_templates/","custom_fields":{"":["head_tail"]},"output_types":[],"full_path":null,"field_formatters":{},"beta":false,"error":null},"id":"PromptTemplate-BcjIr"},"selected":true,"dragging":false,"positionAbsolute":{"x":989.2882417344424,"y":-34.88063446874622}}],"edges":[{"source":"PromptTemplate-BcjIr","sourceHandle":"{œbaseClassesœ:[œPromptTemplateœ,œStringPromptTemplateœ,œBasePromptTemplateœ],œdataTypeœ:œPromptTemplateœ,œidœ:œPromptTemplate-BcjIrœ}","target":"PromptRunner-rASGO","targetHandle":"{œfieldNameœ:œpromptœ,œidœ:œPromptRunner-rASGOœ,œinputTypesœ:null,œtypeœ:œPromptTemplateœ}","data":{"targetHandle":{"fieldName":"prompt","id":"PromptRunner-rASGO","inputTypes":null,"type":"PromptTemplate"},"sourceHandle":{"baseClasses":["PromptTemplate","StringPromptTemplate","BasePromptTemplate"],"dataType":"PromptTemplate","id":"PromptTemplate-BcjIr"}},"style":{"stroke":"#555"},"className":"stroke-gray-900  stroke-connection","animated":false,"id":"reactflow__edge-PromptTemplate-BcjIr{œbaseClassesœ:[œPromptTemplateœ,œStringPromptTemplateœ,œBasePromptTemplateœ],œdataTypeœ:œPromptTemplateœ,œidœ:œPromptTemplate-BcjIrœ}-PromptRunner-rASGO{œfieldNameœ:œpromptœ,œidœ:œPromptRunner-rASGOœ,œinputTypesœ:null,œtypeœ:œPromptTemplateœ}","selected":true},{"source":"CustomComponent-GWl0s","sourceHandle":"{œbaseClassesœ:[œDocumentœ],œdataTypeœ:œCustomComponentœ,œidœ:œCustomComponent-GWl0sœ}","target":"PromptTemplate-BcjIr","targetHandle":"{œfieldNameœ:œhead_tailœ,œidœ:œPromptTemplate-BcjIrœ,œinputTypesœ:[œDocumentœ,œBaseOutputParserœ],œtypeœ:œstrœ}","data":{"targetHandle":{"fieldName":"head_tail","id":"PromptTemplate-BcjIr","inputTypes":["Document","BaseOutputParser"],"type":"str"},"sourceHandle":{"baseClasses":["Document"],"dataType":"CustomComponent","id":"CustomComponent-GWl0s"}},"style":{"stroke":"#555"},"className":"stroke-gray-900  stroke-connection","animated":false,"id":"reactflow__edge-CustomComponent-GWl0s{œbaseClassesœ:[œDocumentœ],œdataTypeœ:œCustomComponentœ,œidœ:œCustomComponent-GWl0sœ}-PromptTemplate-BcjIr{œfieldNameœ:œhead_tailœ,œidœ:œPromptTemplate-BcjIrœ,œinputTypesœ:[œDocumentœ,œBaseOutputParserœ],œtypeœ:œstrœ}","selected":true}],"viewport":{"x":-60.306605278449524,"y":167.32589572887738,"zoom":0.4019524404621551}},"is_component":false,"name":"Funky Euler","description":"","id":"fphvI"}}},"id":"PromptRunner-jv3Cb","position":{"x":1459.3101583446833,"y":61.75361967326023},"type":"genericNode","selected":true,"dragging":false,"positionAbsolute":{"x":1459.3101583446833,"y":61.75361967326023}}],"edges":[{"source":"PromptTemplate-iBBGK","sourceHandle":"{œbaseClassesœ:[œPromptTemplateœ,œStringPromptTemplateœ,œBasePromptTemplateœ],œdataTypeœ:œPromptTemplateœ,œidœ:œPromptTemplate-iBBGKœ}","target":"CustomComponent-63aa3","targetHandle":"{œfieldNameœ:œpromptœ,œidœ:œCustomComponent-63aa3œ,œinputTypesœ:null,œtypeœ:œPromptTemplateœ}","data":{"targetHandle":{"fieldName":"prompt","id":"CustomComponent-63aa3","inputTypes":null,"type":"PromptTemplate"},"sourceHandle":{"baseClasses":["PromptTemplate","StringPromptTemplate","BasePromptTemplate"],"dataType":"PromptTemplate","id":"PromptTemplate-iBBGK"}},"style":{"stroke":"#555"},"className":"stroke-gray-900  stroke-connection","animated":false,"id":"reactflow__edge-PromptTemplate-iBBGK{œbaseClassesœ:[œPromptTemplateœ,œStringPromptTemplateœ,œBasePromptTemplateœ],œdataTypeœ:œPromptTemplateœ,œidœ:œPromptTemplate-iBBGKœ}-CustomComponent-63aa3{œfieldNameœ:œpromptœ,œidœ:œCustomComponent-63aa3œ,œinputTypesœ:null,œtypeœ:œPromptTemplateœ}","selected":true},{"source":"PromptRunner-jv3Cb","sourceHandle":"{œbaseClassesœ:[œDocumentœ],œdataTypeœ:œPromptRunnerœ,œidœ:œPromptRunner-jv3Cbœ}","target":"PromptTemplate-iBBGK","targetHandle":"{œfieldNameœ:œdescriptionœ,œidœ:œPromptTemplate-iBBGKœ,œinputTypesœ:[œDocumentœ,œBaseOutputParserœ],œtypeœ:œstrœ}","data":{"targetHandle":{"fieldName":"description","id":"PromptTemplate-iBBGK","inputTypes":["Document","BaseOutputParser"],"type":"str"},"sourceHandle":{"baseClasses":["Document"],"dataType":"PromptRunner","id":"PromptRunner-jv3Cb"}},"style":{"stroke":"#555"},"className":"stroke-foreground  stroke-connection","animated":false,"id":"reactflow__edge-PromptRunner-jv3Cb{œbaseClassesœ:[œDocumentœ],œdataTypeœ:œPromptRunnerœ,œidœ:œPromptRunner-jv3Cbœ}-PromptTemplate-iBBGK{œfieldNameœ:œdescriptionœ,œidœ:œPromptTemplate-iBBGKœ,œinputTypesœ:[œDocumentœ,œBaseOutputParserœ],œtypeœ:œstrœ}","selected":true}],"viewport":{"x":-168.33144778764927,"y":154.1876446808816,"zoom":0.40028423858995177}},"is_component":false,"name":"Peppy Yonath","description":"","id":"1QzNQ"},"official":false}},"id":"CustomComponent-URQoK","position":{"x":0,"y":0},"type":"genericNode"}],"viewport":{"x":1,"y":1,"zoom":1}},"is_component":true}